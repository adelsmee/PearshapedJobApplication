
function bigObjectMaker(){
	var util = require('util');
	var fs = require('fs');

	var destinationTemplate = "<destination atlas_id='%d' asset_id='22614-4' title='%s' title-ascii='%s'><introductory><introduction><overview><![CDATA[Built where the two Niles meet, Khartoum is one of the more modern cities in Central Africa, with paved roads, high-rise buildings and all the services you might want or need. Some travellers consider it nothing but a dusty, congested and joyless (nightlife is nearly nonexistent) stopover. But those looking to uncover its culture will appreciate what they find when they start walking around. Besides, its people are hospitable, the riverside setting is attractive and it’s one of the safest cities in Africa – so for one reason or another most people end up liking it here.]]></overview></introduction></introductory><transport><getting_around><overview><![CDATA[Buses (SDD40 to SDD80) and minibuses (SDD100) cover most points in Khartoum and run very early to very late. Taxi prices (and if they have no passengers the minibuses work like taxis and often cost less) are negotiable: expect to pay around SDD400 to SDD500 for journeys within the city centre and SDD800 to destinations within greater Khartoum. For shorter trips (except in central Khartoum) there are also motorised rickshaws, which should cost no more than SDD300.The short ride by taxi from Khartoum airport to the city centre is unofficially fixed at SDD2500, though you can sometimes bargain this down. Better yet, try sharing the ride.]]></overview></getting_around><getting_there_and_away><bus_and_tram><![CDATA[Most road transport departs from one of four bus stations. Almost everything rolling south, east and west, including El-Obeid, Gederaf, Kassala and Port Sudan, goes from the modern and chaotic mina bary (land port) near Souq Mahali in southern Khartoum. The Sajana bus station serves Dongola and Wadi Halfa; Karima and Merowe buses use Omdurman’s Souq esh-Shabi; and the Atbara Bus Station is in Bahri.]]></bus_and_tram></getting_there_and_away></transport><history><history><history><![CDATA[The arrival of increasing numbers of Euro­peans from the mid-19th century brought new problems. Mswazi’s successor, Mbandzeni, inherited a kingdom rife with European carpetbaggers – hunters, traders, missionaries and farmers, many of whom leased large expanses of land.The Pretoria Convention of 1881 guaranteed Swaziland’s ‘independence’ but also defined its borders, and Swaziland lost large chunks of territory. ‘Independence’ in fact meant that both the British and the Boers had responsibility for administering their various interests in Swaziland, and the result was chaos. The Boer administration collapsed with the 1899–1902 Anglo-Boer War, and afterwards the British took control of Swaziland as a protectorate.During this troubled time, King Sobhuza II was only a young child, but Labotsibeni, his mother, acted ably as regent until her son took over in 1921. Labotsibeni encouraged Swazis to buy back their land, and many sought work in the Witwatersrand mines (near Johannesburg) to raise money.]]></history><history><![CDATA[In 1960 King Sobhuza II proposed the creation of a legislative council, composed of elected Europeans, and a national council formed in accordance with Swazi culture. The Mbokodvo (Grindstone) National Movement, which was formed at this time, pledged to maintain traditional Swazi culture but also to eschew racial discrimination. When the British finally agreed to elections in 1964, Mbokodvo won a majority and, at the next elections in 1967, won all the seats. Swaziland became independent on 6 September 1968.The country’s constitution was largely the work of the British. In 1973 the king suspended it on the grounds that it did not accord with Swazi culture. He also dissolved all political parties. Four years later the parliament reconvened under a new constitution that vested all power in the king. Sobhuza II, at that time the world’s longest-reigning monarch, died in 1982. In keeping with Swazi tradition, a strictly enforced 75-day period of mourning was announced by Dzeliwe (Great She-Elephant), the most senior of his hundred wives. Only commerce essential to the life of the nation was allowed. And that didn’t include sexual intercourse, which was banned, punishable by flogging. Choosing a successor wasn’t easy – Sobhuza had fathered more than 600 children, thereby creating hundreds of potential kings. Prince Makhosetive, born in 1968, was finally chosen and crowned King Mswati III in 1986.]]></history><history><![CDATA[The king continues to represent and maintain the traditional way of life and to assert his pre-eminence, for better and often for worse, as absolute monarch. Following his predecessor’s style, Mswati dissolved parliament in 1992 and Swaziland was again governed by a traditional tribal assembly, the Liqoqo. Since then, democratic reform has begun with the drafting – albeit restrictive – of a constitution. Despite the increasing agitation for faster change, even many reformers propose a constitutional king in a democratic system of government.Currently, Swaziland’s greatest challenge comes from the HIV/AIDS pandemic; the country has the world’s highest HIV infection rate (almost 39% for adults between 15 and 49 years of age), and life expectancy has fallen as a result from 58 to 33 years. It’s estimated that there are currently more than 70,000 AIDS orphans in the country, and by 2010 one out of six people will be a child under 15 who has lost both parents.]]></history><overview><![CDATA[In eastern Swaziland archaeologists have discovered human remains dating back 110, 000 years, but the ancestors of the modern Swazi people arrived relatively recently.During the great Bantu migrations into southern Africa, one group, the Nguni, moved down the east coast. A clan settled near what is now Maputo in Mozambique, and a dynasty was founded by the Dlamini family. In the mid-18th century increasing pressure from other Nguni clans forced King Ngwane III to lead his people south to lands by the Pongola River, in what is now southern Swaziland. Today, Swazis consider Ngwane III to have been the first king of Swaziland.The next king, Sobhuza I, withdrew under pressure from the Zulus to the Ezulwini Valley, which today remains the centre of Swazi royalty and ritual. When King Sobhuza I died in 1839, Swaziland was twice its present size. Trouble with the Zulu continued, although the next king, Mswazi (or Mswati), managed to unify the whole kingdom. By the time he died in 1868, the Swazi nation was secure. Mswazi’s subjects called themselves people of Mswazi, or Swazis, and the name stuck.]]></overview></history></history><introductory><introduction><overview><![CDATA[Swaziland might be among the smallest countries on the continent and one of Africa's remaining monarchies, but there's more than novelty value on offer here. You can almost feel South Africa's undercurrents of tension fade away when you cross the border into friendly, easy-going ittle Swaziland, making it a relaxing stopover on the trip between Mozambique and South Africa. And it's surprising how much there is to do here - the royal ceremonies, excellent wildlife reserves and superb scenery should be more than enough reason to come. Try Hlane Royal National Park for an eyeful of white rhinos, lions and antelopes - camping options are available for overnight stays. You may not want to stay overnight in the somewhat dull Mbanane, but you may well pass through on your way to the Ezulwini & Malkerns Valleys, the former renown for its picturesque scenery and the latter for its handicrafts.]]></overview></introduction></introductory><practical_information><money_and_costs><money><![CDATA[The unit of currency is the lilangeni; the plural is emalangeni (E). It is tied in value to the South African rand. Rands are accepted every­where and there’s no need to change them. Emalangeni are difficult to change for other currencies outside Swaziland. Only a few ATMs accept international credit or debit cards. The most convenient are at Standard Bank in Swazi Mall, Mbabane and inside the Royal Swazi Hotel’s casino. Nedbank and First National change cash and travellers cheques. Banking hours are generally from 8.30am to 2.30pm weekdays, and until 11am Saturday. Most banks ask to see the receipt of purchase when cashing travellers cheques. ]]></money></money_and_costs><visas><other><![CDATA[Visas for Mozambique are available at the borders but it’s cheaper to arrange them in advance at the Mozambiquan High Commission (404 3700; Princess Dr, Mbabane) or Nelspruit (South Africa). Allow 24 hours.]]></other><overview><![CDATA[Most people don’t need a visa to visit Swaziland. If you don’t need a visa to enter South Africa, you won’t need one for Swaziland. Anyone staying for more than 60 days must apply for a temporary residence permit from the Chief Immigration Officer (404 2941; PO Box 372, Mbabane) whose offices are in the Ministry of Home Affairs.]]></overview></visas></practical_information></destination>\n";
	var taxonomyTemplate = "<node atlas_node_id = '%d' ethyl_content_object_id='82534' geo_id ='44'>\n<node_name>'%s'</node_name>\n<node atlas_node_id = '%d' ethyl_content_object_id='82534' geo_id ='44'><node_name>'%s'</node_name>\n<node atlas_node_id = '%d' ethyl_content_object_id='82534' geo_id ='44'>\n<node_name>'%s'</node_name>\n</node>\n</node>\n</node>\n";

	var totalDestinations = 100;
	var i;
console.log('a');
	var destinationWriteStream = fs.createWriteStream('data/bigger-destinations.xml', {'flags': 'a'});			
	var taxonomyWriteStream = fs.createWriteStream('data/bigger-taxonomy.xml', {'flags': 'a'});			
console.log('b');
	
	destinationWriteStream.write('<?xml version="1.0" encoding="utf-8"?><destinations>');
	taxonomyWriteStream.write('<?xml version="1.0" encoding="utf-8"?><taxonomies><taxonomy><taxonomy_name>World</taxonomy_name>');
	for(i = 0 ; i < totalDestinations ; i++){
		var nextDestination = util.format(destinationTemplate, i, (i + '-africa'), (i + '-africa'));
		destinationWriteStream.write(nextDestination);

		if(i !== 0 && (i % 3) === 0) {
			var grandparent = i - 2;
			var parent = i - 1;
			var nextTaxonomy = util.format(taxonomyTemplate, grandparent, (grandparent + '-africa'), parent, (parent + '-africa'), i, (i + '-africa'));
			taxonomyWriteStream.write(nextTaxonomy);
		}
	}

	destinationWriteStream.write('</destinations>');
	taxonomyWriteStream.write('</taxonomy></taxonomies>');
	
	destinationWriteStream.end();
	console.log('done');
}

bigObjectMaker();